## 01. 간단하게 쓰고 다양하게 만드는 플라스크

**플라스크 : 파이썬으로 만든 마이크로 웹 프레임워크**

- 기본적으로 데이터베이스 기능이 포함되어 있지 않는 등 최소한의 기능만 제공한다.

- 최소한의 규약만 있어서 앱 구성도 자유롭게 결정할 수 있다.

- 필요에 따라 다양한 확장 기능을 추가해서 크고 작은 웹 앱 개발을 비롯하여 다양한 모델을 만들 수 있다.

## 02. 왜 플라스크를 사용할까?

초기에는 풀스택 프레임워크가 인기였다.

그러나 점차 마이크로 서비스화가 진행되고, 프론트엔드의 기술이 급속히 발전하여 서버 측은 API를 반환하고, 프론트엔드에서는 JavaScript나 TypeScript로 구현하는 흐름으로 바뀌었다.

서버 측은 플라스크처럼 가볍고 배우기 쉬워 바로 이용할 수 있는 프레임워크가 필요해졌다.

## 03. 파이썬 웹 프레임워크 비교

### django (장고)

- 파이썬 웹 프레임워크 중 가장 유명한 프레임워크

- 중규모 이상의 웹 앱을 구축하는 데 많이 사용

- 풀스택 프레임워크
  - 사용자 인증

  - O/R 매퍼

  - URL 디스패처

  - 장고 모델 인스턴스의 직렬화 기구

  - 내장 서버

  - HTML 폼 유효성 검증 시스템

  - 캐시 프레임워크

  - 관리 화면

  - 다국어화 기구

  - 템플릿 엔진 기능 확장 기구

### 보틀

- 파이썬에서 웹 앱을 만들기 위한 프레임워크 중 가장 간단한 프레임워크

- 플라스크보다 단순하고 빠르고 가볍다.
  - 라우팅

  - 템플릿

  - 내장 서버

- 보틀은 TO DO 앱 등 간단한 앱을 만드는 데 적합한 프레임워크이다.

### FastAPI

- 비동기 처리가 용이하도록 만들어진 웹 프레임워크

- 요청을 처리하는 속도가 매우 빠르다.

## 플라스크 환경 구축하기

### 파이썬 설치

### 로컬 환경에 가상 환경 만들기

- 로컬 환경에서 개발을 진행하려면 가상 환경(venv) 모듈을 사용하여 로컬 환경에 가상 환경을 작성한다.

- **venv : 파이썬에 표준 탑재된 가상 환경용 모듈**

**가상 환경 설정하기**

```
PowerShell Set-ExecutionPolicy RemoteSigned CurrentUser
```

```
py -m venv venv
```

- 이후, venv 디렉터리가 생성되고 가상 환경이 만들어진다.

**가상 환경 활성화하기**

```
venv\Scripts\Activate.ps1
```

- 가상 환경이 활성화되면 파일 경로 앞쪽에 `(venv)` 표시가 나타난다.

- `venv`라는 이름의 가상 환경에 진입했다는 의미

**가상 환경 비활성화하기**

```
deactivate
```

- 가상 환경을 비활성화하면 가상 환경 사용을 중단할 수 있다.

### 플라스크 설치하기

- 실제로 가상 환경을 만들고 그 가상 환경에 플라스크를 설치한다.

**작업 디렉터리와 가상 환경 설정하기**

```
> mkdir flaskbook  ---- 작업 디렉터리 생성
> cd flaskbook  ---- 작업 디렉터리로 이동
> py -m venv venv  ---- 가상 환경 생성
> vemv\Scripts\Activate.ps1  ---- 가상 환경 활성화
```

**플라스크 설치하기**

- **pip : 파이썬의 라이브러리를 설치하고 관리하는 도구**

```
(venv) $ pip install flask
```

- 플라스크를 설치하면 플라스크가 의존하는 패키지도 동시에 설치된다.

### 플라스크 명령어

**flask run**

- 개발 시 플라스크의 내장 서버를 실행하는 명령어

- 실행 시, `http://127.0.0.1:5000`에서 웹 서버가 실행된다.

- `--host`와 `--port` 옵션으로 호스트(서버)와 포트를 지정해서 실행할 수 있다.

**flask routes**

- 앱의 라우팅 정보를 출력한다.

- **라우팅 : 요청한 곳의 URL과 실제로 처리하는 함수를 연결하는 작업**

  > **라우팅 : 어떤 데이터를 목적지까지 보내기 위한 경로를 선정하는 과정**
  >
  > ex) 지도 어플리케이션을 켜고 서울에서 부산까지 가는 길(방법)을 조회하는 것

- 루트를 추가하여 `flask routes` 명령어를 실행하면 추가한 루트의 연결 정보를 확인할 수 있다.

```
(venv) $ flask routes
Endpoint Methods Rule

-------- ------- ----------------

index    GET     /
static   GET     /static/<path:filename>
```

- 엔드포인트(Endpoint)는 일반적으로 API에 접근하기 위한 URL을 가리키는데, **플라스크에서는 URI와 연결된 함수명 또는 함수에 붙인 이름을 가리킨다.**

- **flask routes 명령어의 실행 결과 설명**
  - **Endpoint** : URL에 접근할 때 실행할 함수 또는 지정한 이름
    - static은 정적 파일용의 엔드포인트로, 항상 고정으로 존재

  - **Methods** : 사용할 HTTP 메서드. 지정이 없는 경우는 GET이 기본으로 된다.

  - **Rule** : 사용할 URL의 규칙

### Visual Studio Code 설치하기

- 무료이며 기능이 풍부한 데다 누구나 바로 사용할 수 있기 때문이다.

**파이썬 확장 기능 설치**

### 코드 체커, 포매터 이용하기

- **코드 체커, 포매터** : 소스 코드가 파이썬의 코드 스타일 가이드라인인 PEP8에 따라 작성되었는지 체크하여 자동으로 코드 형태를 맞춰 주는 라이브러리

- 이를 사용하면 소스 코드를 통일할 수 있어 개발 및 소스 코드 리뷰가 쉬워진다.

**라이브러리 설치하기**

```
(venv) $ pip install flake8 black isort mypy
```

- **flake8** : PEP8에 따른 작성법의 코드인지 여부를 자동으로 체크한다.

- **black** : PEP8에 따른 작성법에 코드를 자동으로 완성한다.

- **isort** : import 문을 PEP8에 따른 작성법으로 자동으로 정렬한다.

- **mypy** : 타입 힌트의 타입을 확인한다.

**flake8 설정하기**

**black 설정하기**

**isort 설정하기**

**mypy 설정하기**

### VSCode에 파이썬 가상 환경 설정하기

### .gitignore

- Git을 사용하여 버전 관리를 하는 경우 `.gitignore` 파일을 작성하여 특정 파일을 커밋 대상에서 제외해야 한다.

- `gitignore.io`라는 `.gitignore` 파일 생성 서비스를 이용하면 편리하다.

- `gitignore.io`는 언어나 프레임워크를 입력하면 `.gitignore` 파일을 포함하는 내용 목록을 출력한다.
